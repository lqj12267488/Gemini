<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.goisan.tabular.dao.TableAttributeDao">

    <select id="expertExcel_A7_3_1" parameterType="com.goisan.educational.major.bean.Major"
            resultType="com.goisan.educational.major.bean.Major">
    select
    t.major_name majorName,
    t.major_code majorCode,
    t.major_direction majorDirection,
    t.departments_id departmentsId,
    t.MAJOR_DIRECTION_CODE majorDirectionCode,
    FUNC_GET_TABLEVALUE(departments_id,'T_SYS_DEPT','DEPT_ID','DEPT_NAME') departmentsIdShow,
    FUNC_GET_TABLEVALUE(t.MAJOR_DIRECTION_CODE,'T_RS_EMPLOYEE','person_id','name') directionCodeShow
    from t_xg_major t
    WHERE 1 = 1
    and t.valid_flag = '1'
    order by t.create_time desc
    </select>

    <select id="expertExcel_A7_3_2" parameterType="com.goisan.educational.major.bean.Major"
            resultType="com.goisan.educational.major.bean.Major">
    select
    t.major_name majorName,
    t.major_code majorCode,
    t.major_direction majorDirection,
    t.departments_id departmentsId,
    t.MAJOR_DIRECTION_CODE majorDirectionCode,
    FUNC_GET_TABLEVALUE(departments_id,'T_SYS_DEPT','DEPT_ID','DEPT_NAME') departmentsIdShow,
    FUNC_GET_TABLEVALUE(t.MAJOR_DIRECTION_CODE,'T_RS_EMPLOYEE','person_id','name') directionCodeShow
    from t_xg_major t
    WHERE 1 = 1
    and t.valid_flag = '1'
    order by t.create_time desc
    </select>

    <select id="expertExcel_A7_4" parameterType="com.goisan.educational.major.bean.Major"
            resultType="com.goisan.educational.major.bean.Major">
    select
    t.major_name majorName,
    t.major_code majorCode,
    t.major_direction majorDirection,
    t.departments_id departmentsId,
    t.MAJOR_DIRECTION_CODE majorDirectionCode,
    a.internship_positions  internshipPositions,
     a.posts_time  poststime,
    FUNC_GET_TABLEVALUE(internship_unit_id,'T_XG_INTERNSHIP_UNIT','INTERNSHIP_UNIT_ID','INTERNSHIP_UNIT_NAME') internshipUnitIdShow
    from t_xg_major t left join T_XG_INTERNSHIP_STUDENT a
    on t.major_code = a.major_code
    </select>

</mapper>